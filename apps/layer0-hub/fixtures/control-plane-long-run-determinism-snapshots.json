[
  {
    "name": "repeated-control-plane-cycles-remain-stable",
    "cycles": 3,
    "seed": {
      "session": {
        "userId": "usr_long_run",
        "email": "loop@antiphon.audio",
        "displayName": "Loop",
        "signedInAt": "2026-02-13T00:00:00.000Z"
      },
      "entitlements": [
        {
          "id": "antiphon.loop.app",
          "name": "Loop App",
          "version": "1.0.0",
          "installedVersion": null,
          "owned": true,
          "installState": "not-installed",
          "updateAvailable": false
        }
      ],
      "offlineCache": {
        "lastValidatedAt": "2026-02-13T00:00:00.000Z",
        "maxOfflineDays": 21,
        "offlineDaysRemaining": 21,
        "cacheState": "valid"
      },
      "transactions": []
    },
    "expected": {
      "cycles": 3,
      "projectionStable": true,
      "finalProjection": {
        "entitlement": {
          "outcome": "Authorized",
          "reason": "owned_active_identity"
        },
        "installUpdate": {
          "state": "ready",
          "reasonCode": "ok_update_completed"
        },
        "launchToken": {
          "ready": true,
          "status": "issued_verified",
          "reason": "verified"
        },
        "persistedCache": {
          "schema": "antiphon.control-plane-cache",
          "version": 1,
          "restorable": true
        },
        "launchReadiness": [
          {
            "appId": "antiphon.loop.app",
            "ready": true,
            "reason": "token_issued"
          }
        ],
        "trustEnvelope": [
          {
            "operation": "entitlementDecision",
            "latencyTier": "instant",
            "latencyBudgetMs": 25,
            "failureBudgetPct": 0.1
          },
          {
            "operation": "installUpdateAuthority",
            "latencyTier": "short",
            "latencyBudgetMs": 300,
            "failureBudgetPct": 1
          },
          {
            "operation": "launchTokenBoundary",
            "latencyTier": "instant",
            "latencyBudgetMs": 25,
            "failureBudgetPct": 0.1
          },
          {
            "operation": "offlineCache",
            "latencyTier": "instant",
            "latencyBudgetMs": 15,
            "failureBudgetPct": 0.1
          }
        ]
      }
    }
  }
]
